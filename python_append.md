## pythoon数组拼接的方法对比

**1. list的方法append, extend**
```
x = [[1, 2], [3, 4]]
y = [[5, 6], [7, 8]]
x.append(x)            # x = [[1, 2], [3, 4], [[5, 6], [7, 8]]] 
x.extend(x)            # x = [[1, 2], [3, 4], [5, 6], [7, 8]]
```

**2. numpy的方法append, concatenate**

* np.append(arr, values, axis=None):  
要么一个数组和一个数值；要么两个数组，不能三个及以上数组直接append拼接。append函数返回的始终是一个一维数组。

* np.concatenate((a1,a2,...), axis=0):  
能够一次完成多个数组的拼接。axis=1表示对应行的数组进行拼接
```
x = np.array([[1, 2], [3, 4]])
y = np.array([[5, 6], [7, 8]])
z = np.append(a, b)                   # z = array([1, 2, 3, 4, 5, 6, 7, 8])
z2 = np.concatenate((x, y))           # z2 = array([[1, 2], [3, 4], [5, 6], [7, 8]])
z3 = np.concatenate((x, y), axis=1)   # z3 = array([[1, 2, 5, 6], [3, 4, 7, 8]])
```

**3. numpy中的stack, hstack, vstack**

* np.stack(arrays, axis=0)   
arrays可以传数组和列表,输出为数组
```
例子1：
x = [1, 2, 3, 4]
y = [5, 6, 7, 8]
z = np.stack((x, y), axis=0)      # z = array([[1, 2, 3, 4], [5, 6, 7, 8]])
z1 = np.stack((x, y), axis=1)     # z1 = array([[1, 5], [2, 6], [3, 7], [4, 8]])

例子2：
x = [[1, 2], [3, 4]]
y = [[5, 6], [7, 8]]
z = np.stack((x, y), axis=0)       # z = array([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])
z2 = np.stack((x, y), axis=1)      # z1 = array([[[1, 2], [5, 6]], [[3, 4], [7, 8]]])
```
当axis=0的时候，我们把套在[1,2,3,4]外面的中括号(就是[[1,2,3,4]]最外层的那个中括号)看做是箱子A，这个箱子A也会套在[5,6,7,8]的外面，所以我们就先把[1,2,3,4]和[5,6,7,8]放在一起，变成[1,2,3,4],[5,6,7,8]，然后再一起套上箱子A，变成[[1,2,3,4],[5,6,7,8]].这就是当axis=0的时候程序的输出结果。

当axis=1的时候，对于[1,2,3,4]，我们把套在1外面的箱子(就是[[1],[2],[3],[4]]中1外面的那层中括号)看做A，套在2外面的看做B，同理，箱子A也会套在5的外面，箱子B也会套在6的外面。那么我们就把1和5放一起，2和6放一起,变成[1,5,2,6,3,7,4,8]然后把箱子A,B,C分别套在1,5, 2,6, 3,7, 4,8的外面，变成[[1,5],[2,6],[3,7],[4,8]]这就是程序中axis=1的时候程序的输出结果。

* np.hstack()函数  
hstack(tup)， 参数tup可以是元组，列表，或者numpy数组，返回结果为numpy的数组
```
x = [1, 2, 3, 4]
y = [5, 6, 7, 8]
z = np.hstack((x, y))    # z = array([1, 2, 3, 4, 5, 6, 7, 8])
```
它是水平(按列顺序)把数组给堆叠起来

* np.vstack()函数  
vstack(tup)， 参数tup可以是元组，列表，或者numpy数组，返回结果为numpy的数组
```
x = [1, 2, 3, 4]
y = [5, 6, 7, 8]
z = np.vstack((x, y))    # z = array([[1, 2, 3, 4], [5, 6, 7, 8]])
```
它是垂直（按照行顺序）的把数组给堆叠起来。

**4. np.newaxis**

np.newaxis是用来增加数组的维度的  
```
x = np.array([1, 2])   # x.shape = (2,)
y = x[np.newaxis, :]   # y.shape= (1, 2)
y2 = x[:, np.newaxis]  # y2.shape= (2, 1)
```
