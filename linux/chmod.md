## Linux chmod命令

每一文件或目录的访问权限都有三组，每组用三位表示，分别为:
* 文件属主的读、写和执行权限  
* 与属主同组的用户的读、写和执行权限  
* 系统中其他用户的读、写和执行权限  

用`ls -al`命令显示文件或目录的详细信息时

```
[root@localhost test]# ll -al

总计 316lrwxrwxrwx 1 root root     11 11-22 06:58 linklog.log -> log2012.log

-rw-r--r-- 1 root root 302108 11-13 06:03 log2012.log

-rw-r--r-- 1 root root     61 11-13 06:03 log2013.log

-rw-r--r-- 1 root root      0 11-13 06:03 log2014.log

-rw-r--r-- 1 root root      0 11-13 06:06 log2015.log

-rw-r--r-- 1 root root      0 11-16 14:41 log2016.log

-rw-r--r-- 1 root root      0 11-16 14:43 log2017.log
```

第一列共有10个位置，第一个字符指定了文件类型  
`d`：表示该文件为目录  
`-`：表示该文件为普通文件  
`l`：表示该文件为连接文件（linux file），上边提到的软连接即为该类型  
`b`：表示该文件为块设备文件，比如磁盘分区  
`c`：表示该文件为串行端口设备，例如键盘、鼠标  
`s`：表示该文件为套接字文件（socket），用于进程间通信

从第二个字符开始到第十个共9个字符，3个字符一组，分别表示了3组用户对文件或者目录的权限。**权限字符用横线代表空许可**，r代表只读，w代表写，x代表可执行。

例如：

`- rw- r-- r--`

普通文件；属主有读写权限；属主同组的用户只有读权限；其他用户也只有读权限。

**1. 命令格式:**

`chmod [-cfvR] [--help] [--version] mode file `

**2. 命令功能：**

改变文件或目录的访问权限，用它控制文件或目录的访问权限。

**3. 命令参数：**

-c 当发生改变时，报告处理信息  
-f 错误信息不输出  
-R 处理指定目录以及其子目录下的所有文件  
-v 运行时显示详细处理信息  

**权限范围：**

u ：目录或者文件的当前的用户  
g ：目录或者文件的当前的群组  
o ：除了目录或者文件的当前用户或群组之外的用户或者群组  
a ：所有的用户及群组  

**权限代号：**

`r`：读权限，用数字4表示  
`w`：写权限，用数字2表示  
`x`：执行权限，用数字1表示  
`-`：删除权限，用数字0表示  
`s`：特殊权限  

**4. 用法：**

**1) 文字设定法:**

chmod ［who］ ［+ | - | =］ ［mode］ 文件名

**增加文件所有用户组可执行权限:**  
`chmod a+x file`

**2）数字设定法**

数字与字符对应关系如下：  
r=4，w=2，x=1  
若要rwx属性则4+2+1=7  
若要rw属性则4+2=6  
若要rx属性则4+1=7  

**给file的属主分配读、写、执行的权限，给file的所在组分配读、执行的权限，给其他用户分配执行的权限:**  
`chmod 751 file`

> 默认情况下，目录权限值为766，普通文件权限值为644
